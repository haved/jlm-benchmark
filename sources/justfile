################ Creating sources-raw.json yourself ##############
###  This file is only relevant if you want to make            ###
###  your own set of sources*.json files from scratch.         ###
###  This is only for those who are particularily interested.  ###
###  You also must have your own cpu2017.tar.xz to do this     ###
##################################################################

_default:
    @just --list

# Builds all benchmarks while tracing the compilation commands
build-all-benchmarks:
    just programs/build-all-free
    just programs/build-cpu2017

# After all benchmarks have been built and traced, create sources-raw.json
create-sources-raw-json:
    python3 create_sources_raw_json.py --output sources-raw.json

# Cleans up sources-raw.json for use when benchmarking jlm-opt
process-sources-json:
    python3 process_sources_json.py --useRedist2017 --input sources-raw.json --output sources-redist2017.json
    python3 process_sources_json.py --input sources-raw.json --output sources.json --check
